[gd_scene load_steps=8 format=3 uid="uid://d1nef8k2lrrlx"]

[ext_resource type="Script" uid="uid://0ckqtfclytib" path="res://scenes/levels/level_1.gd" id="1_l37oo"]
[ext_resource type="PackedScene" uid="uid://c8fcqyfic7k4b" path="res://scenes/enemy.tscn" id="2_qpwj6"]
[ext_resource type="PackedScene" uid="uid://biwwlsdfm47i3" path="res://scenes/castle.tscn" id="3_ibugp"]
[ext_resource type="PackedScene" uid="uid://dfvua4lkimayw" path="res://scenes/menus.tscn" id="4_8qukl"]
[ext_resource type="PackedScene" uid="uid://n88y1vrsh0ri" path="res://scenes/tower.tscn" id="5_3p04p"]

[sub_resource type="Curve2D" id="Curve2D_6iamk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x42e6"]
size = Vector2(249, 721)

[node name="Level 2" type="Node" node_paths=PackedStringArray("starting_castle", "ending_castle", "enemies", "enemy_area", "path", "menus") groups=["Level"]]
script = ExtResource("1_l37oo")
title = "Level 2"
description = "This is actually level 2, but it's just a clone of the first one for now. This is just to prove that the level loading thing is working."
hint = "This is a placeholder."
victory_description = "This is a placeholder. You've successfully delivered the message."
fail_description = "This is a placeholder. Your enemies caught your full message before you could deliver it successfully."
starting_castle = NodePath("Castle A")
ending_castle = NodePath("Castle B")
enemies = [NodePath("Enemies/Enemy"), NodePath("Enemies/Enemy2"), NodePath("Enemies/Enemy3")]
enemy_area = NodePath("Enemy areas/CollisionShape2D")
path = NodePath("Messenger Path")
menus = NodePath("Menus")

[node name="Camera" type="Camera2D" parent="."]
anchor_mode = 0

[node name="MessengerSpawnTimer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="Enemies" type="Node" parent="."]

[node name="Enemy" parent="Enemies" instance=ExtResource("2_qpwj6")]
position = Vector2(574, 77)

[node name="Enemy2" parent="Enemies" instance=ExtResource("2_qpwj6")]
position = Vector2(684, 62)

[node name="Enemy3" parent="Enemies" instance=ExtResource("2_qpwj6")]
position = Vector2(637, 118)

[node name="Castle A" parent="." instance=ExtResource("3_ibugp")]
position = Vector2(215, 515)

[node name="Castle B" parent="." instance=ExtResource("3_ibugp")]
position = Vector2(1031, 499)

[node name="Messenger Path" type="Path2D" parent="."]
curve = SubResource("Curve2D_6iamk")

[node name="Menus" parent="." instance=ExtResource("4_8qukl")]

[node name="Enemy areas" type="Node" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy areas"]
position = Vector2(632.5, 357.5)
shape = SubResource("RectangleShape2D_x42e6")

[node name="Tower" parent="." instance=ExtResource("5_3p04p")]
position = Vector2(403, 373)
type = "Caesar Encrypt"
caesar_key = 5
is_static = true

[connection signal="timeout" from="MessengerSpawnTimer" to="." method="_on_messenger_spawn_timer_timeout"]
[connection signal="message_toggle" from="Menus" to="." method="_on_menus_message_toggle"]
