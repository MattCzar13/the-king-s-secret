[gd_scene load_steps=9 format=3 uid="uid://bb3rmx40e11yl"]

[ext_resource type="Script" uid="uid://0ckqtfclytib" path="res://scenes/levels/level_1.gd" id="1_ksju7"]
[ext_resource type="PackedScene" uid="uid://biwwlsdfm47i3" path="res://scenes/castle.tscn" id="2_6iamk"]
[ext_resource type="PackedScene" uid="uid://c8fcqyfic7k4b" path="res://scenes/enemy.tscn" id="4_x42e6"]
[ext_resource type="PackedScene" uid="uid://dfvua4lkimayw" path="res://scenes/menus.tscn" id="5_6761a"]
[ext_resource type="PackedScene" uid="uid://n88y1vrsh0ri" path="res://scenes/tower.tscn" id="5_oc4kc"]
[ext_resource type="Texture2D" uid="uid://wcnsnfkxtqdb" path="res://assets/forest-day.png" id="5_sk5k4"]

[sub_resource type="Curve2D" id="Curve2D_6iamk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_x42e6"]
size = Vector2(329, 411)

[node name="Level 1" type="Node" node_paths=PackedStringArray("starting_castle", "ending_castle", "enemies", "enemy_area", "path", "menus") groups=["Level"]]
script = ExtResource("1_ksju7")
title = "Level 1 - Humble Beginnings"
description = "You are tasked with delivering important messages from the West Castle to the East Castle, on behalf of our King. These messages contain critical information about our kingdom's operations.

We have messengers to deliver these for us, but our enemies have started intercepting them in transit. If they continue to learn of our secrets, our kingdom will surely fall!

Luckily, our brillant wizard Cypher has come up with a magical incantation he says will hide our messages -- he called it \"Caesar Encryption\", or something like that, and apparently it works by choosing a secret letter of the alphabet. I couldn't tell you how it works, but we have already installed a Caesar Encryption outpost for our messengers to stop at on their journey. Cypher says these outposts should protect our messages for now!

The problem is that the West Tower apparently can't read our messages. You will have to figure out how to reverse whatever Cypher is doing to the messages. Please complete his scheme, so our enemies cannot gain the information that these messages hold!"
hint = "This is a placeholder."
victory_description = "Good work! It looks like our scheme is working perfectly... at least, for now.

Click OK to proceed to the next level!"
fail_description = "Uh oh! The enemy has intercepted too many of our messages... 

Try again, but make sure your decryption outpost is closer to the West Tower."
starting_castle = NodePath("Castle A")
ending_castle = NodePath("Castle B")
enemies = [NodePath("Enemies/Enemy"), NodePath("Enemies/Enemy2"), NodePath("Enemies/Enemy3")]
enemy_area = NodePath("Enemy areas/CollisionShape2D")
path = NodePath("Messenger Path")
menus = NodePath("Menus")

[node name="Camera" type="Camera2D" parent="."]
anchor_mode = 0

[node name="MessengerSpawnTimer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="Enemies" type="Node" parent="."]

[node name="Enemy" parent="Enemies" instance=ExtResource("4_x42e6")]
position = Vector2(534, 197)

[node name="Enemy2" parent="Enemies" instance=ExtResource("4_x42e6")]
position = Vector2(736, 200)

[node name="Enemy3" parent="Enemies" instance=ExtResource("4_x42e6")]
position = Vector2(642, 226)

[node name="Castle A" parent="." instance=ExtResource("2_6iamk")]
position = Vector2(148, 434)

[node name="Castle B" parent="." instance=ExtResource("2_6iamk")]
position = Vector2(1119, 533)

[node name="Messenger Path" type="Path2D" parent="."]
curve = SubResource("Curve2D_6iamk")

[node name="Menus" parent="." instance=ExtResource("5_6761a")]

[node name="Enemy areas" type="Node" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy areas"]
position = Vector2(644.5, 389.5)
shape = SubResource("RectangleShape2D_x42e6")

[node name="Tower" parent="." instance=ExtResource("5_oc4kc")]
position = Vector2(403, 373)
type = "Caesar Encrypt"
caesar_key = 5
is_static = true

[node name="background" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(639, 203)
scale = Vector2(0.6737951, 0.59906936)
texture = ExtResource("5_sk5k4")

[connection signal="timeout" from="MessengerSpawnTimer" to="." method="_on_messenger_spawn_timer_timeout"]
[connection signal="message_toggle" from="Menus" to="." method="_on_menus_message_toggle"]
